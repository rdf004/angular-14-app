<div class="app-container" dir="ltr">
  <!-- Header -->
  <header class="app-header">
    <div class="header-content">
      <h1 class="app-title">Notes</h1>
      <div class="header-actions">
        <button 
          class="quote-btn" 
          (click)="onOpenQuoteModal()"
          title="Random Quote">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.75 9.375C3.75 8.33947 4.58947 7.5 5.625 7.5C6.66053 7.5 7.5 8.33947 7.5 9.375C7.5 10.4105 6.66053 11.25 5.625 11.25C4.58947 11.25 3.75 10.4105 3.75 9.375Z" fill="currentColor"/>
            <path d="M10.5 9.375C10.5 8.33947 11.3395 7.5 12.375 7.5C13.4105 7.5 14.25 8.33947 14.25 9.375C14.25 10.4105 13.4105 11.25 12.375 11.25C11.3395 11.25 10.5 10.4105 10.5 9.375Z" fill="currentColor"/>
            <path d="M3.75 6C3.75 4.34315 5.09315 3 6.75 3H11.25C12.9069 3 14.25 4.34315 14.25 6V9.375C14.25 10.6177 13.2427 11.625 12 11.625H6C4.75736 11.625 3.75 10.6177 3.75 9.375V6Z" stroke="currentColor" stroke-width="1.5"/>
          </svg>
        </button>
        <button 
          class="settings-btn" 
          (click)="onOpenApiKeyModal()"
          title="API Settings">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 11.25C10.2426 11.25 11.25 10.2426 11.25 9C11.25 7.75736 10.2426 6.75 9 6.75C7.75736 6.75 6.75 7.75736 6.75 9C6.75 10.2426 7.75736 11.25 9 11.25Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M14.7075 10.935C14.625 11.175 14.7075 11.4375 14.9175 11.6025L14.9625 11.6475C15.135 11.82 15.135 12.105 14.9625 12.2775C14.79 12.45 14.505 12.45 14.3325 12.2775L14.2875 12.2325C14.1225 12.0225 13.86 11.94 13.62 12.0225C13.38 12.105 13.215 12.3225 13.215 12.5775V12.6675C13.215 12.9 13.035 13.08 12.8025 13.08C12.57 13.08 12.39 12.9 12.39 12.6675V12.6C12.39 12.3225 12.195 12.0825 11.9175 12.0225C11.6775 11.94 11.415 12.0225 11.25 12.2325L11.205 12.2775C11.0325 12.45 10.7475 12.45 10.575 12.2775C10.4025 12.105 10.4025 11.82 10.575 11.6475L10.62 11.6025C10.83 11.4375 10.9125 11.175 10.83 10.935C10.7475 10.695 10.53 10.53 10.275 10.53H10.185C9.9525 10.53 9.7725 10.35 9.7725 10.1175C9.7725 9.885 9.9525 9.705 10.185 9.705H10.2525C10.53 9.705 10.77 9.51 10.83 9.2325C10.9125 8.9925 10.83 8.73 10.62 8.565L10.575 8.52C10.4025 8.3475 10.4025 8.0625 10.575 7.89C10.7475 7.7175 11.0325 7.7175 11.205 7.89L11.25 7.935C11.415 8.145 11.6775 8.2275 11.9175 8.145C12.195 8.085 12.39 7.8675 12.39 7.59V7.5C12.39 7.2675 12.57 7.0875 12.8025 7.0875C13.035 7.0875 13.215 7.2675 13.215 7.5V7.5675C13.215 7.845 13.41 8.085 13.6875 8.145C13.9275 8.2275 14.19 8.145 14.355 7.935L14.4 7.89C14.5725 7.7175 14.8575 7.7175 15.03 7.89C15.2025 8.0625 15.2025 8.3475 15.03 8.52L14.985 8.565C14.775 8.73 14.6925 8.9925 14.775 9.2325C14.8575 9.4725 15.075 9.6375 15.33 9.6375H15.42C15.6525 9.6375 15.8325 9.8175 15.8325 10.05C15.8325 10.2825 15.6525 10.4625 15.42 10.4625H15.3525C15.075 10.4625 14.835 10.6575 14.775 10.935H14.7075Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button 
          class="create-note-btn" 
          (click)="onCreateNewNote()"
          title="Create new note">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          New Note
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="app-content">
    <!-- Sidebar -->
    <aside class="sidebar">
      <app-note-list></app-note-list>
    </aside>

    <!-- Main Area -->
    <main class="main-area">
      <app-note-editor 
        *ngIf="selectedNote$ | async as selectedNote"
        [note]="selectedNote">
      </app-note-editor>
      
      <div class="empty-state" *ngIf="!(selectedNote$ | async)">
        <div class="empty-content">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 12C8 10.8954 8.89543 10 10 10H30L40 20V36C40 37.1046 39.1046 38 38 38H10C8.89543 38 8 37.1046 8 36V12Z" 
                  stroke="#CBD5E0" stroke-width="2" fill="#F7FAFC"/>
            <path d="M30 10V20H40" stroke="#CBD5E0" stroke-width="2" fill="none"/>
          </svg>
          <h2>Select a note to start writing</h2>
          <p>Choose a note from the sidebar or create a new one to begin.</p>
          <button class="create-first-note-btn" (click)="onCreateNewNote()">
            Create your first note
          </button>
        </div>
      </div>
    </main>

    <!-- Reflection Pane -->
    <aside class="reflection-sidebar">
      <app-reflection-pane [note]="selectedNote$ | async"></app-reflection-pane>
    </aside>
  </div>

  <!-- Quote Modal -->
  <app-quote-modal 
    [isOpen]="showQuoteModal" 
    (close)="onCloseQuoteModal()">
  </app-quote-modal>

  <!-- API Key Modal -->
  <app-api-key-modal 
    [isOpen]="showApiKeyModal" 
    (close)="onCloseApiKeyModal()">
  </app-api-key-modal>
</div>
